

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Ordering Service FAQ &mdash; hyperledger-fabricdocs master documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributions Welcome!" href="CONTRIBUTING.html" />
    <link rel="prev" title="Hyperledger Fabric FAQ" href="Fabric-FAQ.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          


          
            <a href="index.html" class="icon icon-home"> hyperledger-fabricdocs
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
<br>
<a href="https://chat.hyperledger.org">Rocket Chat</a>  <a href="https://jenkins.hyperledger.org/">CI</a>
<a href="http://stackoverflow.com/questions/tagged/hyperledger-fabric">StackOverflow</a>
<br>
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>
  <br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">目录</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">欢迎来到 Hyperledger Fabric</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">入门指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="key_concepts.html">Key Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html">Tutorials - 教程</a></li>
<li class="toctree-l2"><a class="reference internal" href="ops_guide.html">Operations Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_ref.html">Commands Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html">架构参考</a></li>
<li class="toctree-l2"><a class="reference internal" href="Fabric-FAQ.html">Hyperledger Fabric FAQ</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Ordering Service FAQ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Solo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Kafka</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bft">BFT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="CONTRIBUTING.html">Contributions Welcome!</a></li>
<li class="toctree-l2"><a class="reference internal" href="glossary.html">Glossary - 词汇表</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="questions.html">Still Have Questions? - 依然遇到问题？</a></li>
<li class="toctree-l2"><a class="reference internal" href="status.html">Status - 状态</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">入门指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="key_concepts.html">Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials - 教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="ops_guide.html">Operations Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_ref.html">Commands Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">架构参考</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fabric-FAQ.html">Hyperledger Fabric FAQ</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Ordering Service FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">Solo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">Kafka</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bft">BFT</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributions Welcome!</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary - 词汇表</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="questions.html">Still Have Questions? - 依然遇到问题？</a></li>
<li class="toctree-l1"><a class="reference internal" href="status.html">Status - 状态</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">hyperledger-fabricdocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Ordering Service FAQ</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/ordering-service-faq.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ordering-service-faq">
<h1>Ordering Service FAQ<a class="headerlink" href="#ordering-service-faq" title="Permalink to this headline">¶</a></h1>
<div class="section" id="general">
<h2>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>I have an ordering service up and running and want to switch consensus
algorithms. How do I do that?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">This is explicitly not supported.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>What is the orderer system channel?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">The orderer system channel (sometimes called ordering system channel) is the
channel the orderer is initially bootstrapped with. It is used to orchestrate
channel creation. The orderer system channel defines consortia and the initial
configuration for new channels. At channel creation time, the organization
definition in the consortium, the <code class="docutils literal notranslate"><span class="pre">/Channel</span></code> group’s values and policies, as
well as the <code class="docutils literal notranslate"><span class="pre">/Channel/Orderer</span></code> group’s values and policies, are all combined
to form the new initial channel definition.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>If I update my application channel, should I update my orderer system
channel?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">Once an application channel is created, it is managed independently of any
other channel (including the orderer system channel). Depending on the
modification, the change may or may not be desirable to port to other
channels. In general, MSP changes should be synchronized across all channels,
while policy changes are more likely to be specific to a particular channel.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>Can I have an organization act both in an ordering and application role?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">Although this is possible, it is a highly discouraged configuration. By
default the <code class="docutils literal notranslate"><span class="pre">/Channel/Orderer/BlockValidation</span></code> policy allows any valid
certificate of the ordering organizations to sign blocks. If an organization
is acting both in an ordering and application role, then this policy should be
updated to restrict block signers to the subset of certificates authorized for
ordering.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>I want to write a consensus implementation for Fabric. Where do I begin?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">A consensus plugin needs to implement the <code class="docutils literal notranslate"><span class="pre">Consenter</span></code> and <code class="docutils literal notranslate"><span class="pre">Chain</span></code>
interfaces defined in the <a class="reference external" href="https://github.com/hyperledger/fabric/blob/master/orderer/consensus/consensus.go">consensus package</a>. There are two plugins built
against these interfaces already: <a class="reference external" href="https://github.com/hyperledger/fabric/tree/master/orderer/consensus/solo">solo</a> and <a class="reference external" href="https://github.com/hyperledger/fabric/tree/master/orderer/consensus/kafka">kafka</a>. You can study them to take
cues for your own implementation. The ordering service code can be found under
the <a class="reference external" href="https://github.com/hyperledger/fabric/tree/master/orderer">orderer package</a>.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>I want to change my ordering service configurations, e.g. batch timeout,
after I start the network, what should I do?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">This falls under reconfiguring the network. Please consult the topic on
<span class="xref std std-doc">configtxlator</span>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id1">
<h2>Solo<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>How can I deploy Solo in production?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">Solo is not intended for production.  It is not, and will never be, fault
tolerant.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id2">
<h2>Kafka<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><p class="first"><strong>How do I remove a node from the ordering service?</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body"><p class="first">This is a two step-process:</p>
<ol class="last arabic simple">
<li>Add the node’s certificate to the relevant orderer’s MSP CRL to prevent peers/clients from connecting to it.</li>
<li>Prevent the node from connecting to the Kafka cluster by leveraging standard Kafka access control measures such as TLS CRLs, or firewalling.</li>
</ol>
</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>I have never deployed a Kafka/ZK cluster before, and I want to use the
Kafka-based ordering service. How do I proceed?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">The Hyperledger Fabric documentation assumes the reader generally has the
operational expertise to setup, configure, and manage a Kafka cluster
(see <a class="reference internal" href="kafka.html#kafka-caveat"><span class="std std-ref">须知(Caveat emptor)</span></a>). If you insist on proceeding without such expertise,
you should complete, <em>at a minimum</em>, the first 6 steps of the
<a class="reference external" href="https://kafka.apache.org/quickstart">Kafka Quickstart guide</a> before experimenting with the Kafka-based ordering
service.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>Where can I find a Docker composition for a network that uses the
Kafka-based ordering service?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">Consult <a class="reference external" href="https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/docker-compose-e2e.yaml">the end-to-end CLI example</a>.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>Why is there a ZooKeeper dependency in the Kafka-based ordering service?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">Kafka uses it internally for coordination between its brokers.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>I’m trying to follow the BYFN example and get a “service unavailable” error,
what should I do?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">Check the ordering service’s logs. A “Rejecting deliver request because of
consenter error” log message is usually indicative of a connection problem
with the Kafka cluster. Ensure that the Kafka cluster is set up properly, and
is reachable by the ordering service’s nodes.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bft">
<h2>BFT<a class="headerlink" href="#bft" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Question:</th><td class="field-body"><strong>When is a BFT version of the ordering service going to be available?</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Answer:</th><td class="field-body">No date has been set. We are working towards a release during the 1.x cycle,
i.e. it will come with a minor version upgrade in Fabric. Track <a class="reference external" href="https://jira.hyperledger.org/browse/FAB-33">FAB-33</a> for
updates.</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="CONTRIBUTING.html" class="btn btn-neutral float-right" title="Contributions Welcome!" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Fabric-FAQ.html" class="btn btn-neutral" title="Hyperledger Fabric FAQ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Hyperledger 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'master',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>